<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Making title dynamic -->
    <title><%= title %></title>
    <!-- Linking Fontawsome -->
    <script
      src="https://kit.fontawesome.com/acf3eaf7bf.js"
      crossorigin="anonymous"
    ></script>
    <!-- Linking Css -->
    <link rel="stylesheet" href="./CSS/home.css" />
  </head>
  <body>
    <div class="Todo-container">
      <!-- Heading -->
      <h1>Todo list</h1>
      <hr />
      <!-- Form to take Input -->
      <form action="/create-task" method="post" id="input-form">
        <div class="des-container">
          <label for="Description">DESCRIPTION</label>
          <br />
          <input
            type="textarea"
            name="Description"
            placeholder="What do you need to do?"
            id="Description"
            required
          />
        </div>
        <!-- <hr /> -->
        <div class="select-date-container">
          <div class="category-container">
            <label for="Category">CATEGORY</label>
            <br />
            <select name="Category" id="Category" required>
              <option value="Personal">Personal</option>
              <option value="Work">Work</option>
              <option value="School">School</option>
              <option value="Home">Home</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="date-container">
            <label for="dueDate">DUE DATE</label>
            <br />
            <input type="date" name="dueDate" id="dueDate" required />
          </div>
        </div>
        <!-- Button to add or delete -->
        <div class="button-container">
          <button type="Submit" class="btn-add">
            <i class="fa-solid fa-plus"></i> ADD TASK
          </button>
          <button type="button" class="btn-delete">
            <i class="fa-solid fa-trash"></i> DELETE TASK
          </button>
        </div>
      </form>

      <!-- Showing data stores in db -->
      <div class="task-unordered-list">
        <% for(i of todo_list){ %>
        <ul>
          <li>
            <div class="checkbox-description-date-container">
              <div class="checkbox-container">
                <input
                  type="checkbox"
                  name="delcheck"
                  class="delcheck"
                  checkedId="<%= i._id %>"
                />
              </div>
              <div class="task-dueDate-container">
                <p class="task-heading" id="<%= i._id %>">
                  <%= i.Description %>
                </p>
                <p class="due_date" id="<%= i._id + i.dueDate %>">
                  <i class="fa-regular fa-calendar-days"></i> <%= i.dueDate %>
                </p>
              </div>
            </div>
            <div class="category-place">
              <p><%= i.Category %></p>
            </div>
          </li>
          <% } %>
        </ul>
      </div>
    </div>
  </body>
  <!-- linking jQuery for AJAX request -->
  <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"
  ></script>
  <!-- Linking Js -->
  <script type="text/javascript" src="./JavaScript/home.js"></script>
</html>
